# Maximum Product Subarray
Illustration: **Find contiguous subarray with max product, return the max product**

Solution: DP with recorder of **max positive product** and **min negative product**

## Solution Insights
**Use DP thinking. The max product for a subarray starting at an element in array must come from one of following sources:**
1. if the element is negative, max product can be generated by the multiplication of itself with the min negative product of the subarray starting at the element after that element.
2. if the element is positive, max product can be generated by itself or the multiplication of itself with the max positive product of the subarray starting at the element after that element.
3. if the element is zero, both max positive product and min negative product come to 0.

## Solution Implementation
Starting from the end element, we transverse the array. We update the max positive product containing that element and min negative product containing that element. The max positive product containing that element would come from three sources: itself (positive); multiplication of itself (negative) with previous min negative product; multiplication of itself (positive) with previous max positive product. The min negative product containing that element would come from three sources: itself (negative); multiplication of itself (negative) with previous max positive product; multiplication of itself (positive) with previous min negative product. For each time, we record the max product.

Solution Sample (Python - DP):
```python
class Solution:
    def maxProduct(self, nums: List[int]) -> int:
        maxResult = nums[-1]
        positiveProduct, negativeProduct = max(0, nums[-1]), min(0, nums[-1])
        for i in range(len(nums) - 2, -1, -1):
            newpositiveProduct = max(nums[i], positiveProduct * nums[i], negativeProduct * nums[i])
            newnegativeProduct = min(nums[i], positiveProduct * nums[i], negativeProduct * nums[i])
            positiveProduct = newpositiveProduct
            negativeProduct = newnegativeProduct
            maxResult = max(maxResult, positiveProduct)
        return maxResult
```